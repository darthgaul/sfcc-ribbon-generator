function generateRibbon(ctx, canvas, colors) {
    const totalStripes = 10; // Even number for symmetry
    const numUniqueStripes = totalStripes / 2;
    const targetHalfWidth = canvas.width / 2; // e.g., 150px for 300px canvas

    // Generate left half widths that sum to half the canvas width
    const leftWidths = generateRandomWidths(numUniqueStripes, targetHalfWidth);

    // Generate left half colors, cycling through logo-derived palette
    const leftColors = [];
    for (let i = 0; i < numUniqueStripes; i++) {
        leftColors.push(colors[i % colors.length]);
    }

    // Create full arrays by mirroring
    const fullWidths = [...leftWidths, ...leftWidths.slice().reverse()];
    const fullColors = [...leftColors, ...leftColors.slice().reverse()];

    // Draw the ribbon
    let currentX = 0;
    fullWidths.forEach((width, index) => {
        ctx.fillStyle = fullColors[index];
        ctx.fillRect(currentX, 0, width, canvas.height);
        currentX += width;
    });

    // Add any existing texture (e.g., horizontal lines) as in your original design
    addRibbonTexture(ctx, canvas);
}

// Helper function to generate widths summing to a target
function generateRandomWidths(numBars, targetSum) {
    let widths = Array(numBars).fill(0).map(() => Math.random() * 40 + 10); // Random between 10-50px
    const currentSum = widths.reduce((sum, w) => sum + w, 0);
    const scale = targetSum / currentSum;
    widths = widths.map(w => Math.round(w * scale));
    const adjustedSum = widths.slice(0, -1).reduce((sum, w) => sum + w, 0);
    widths[numBars - 1] = targetSum - adjustedSum; // Adjust last width for exact sum
    return widths;
}
